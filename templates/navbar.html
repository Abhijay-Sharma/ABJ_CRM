<header class="text-white-600 dark:text-gray-300 body-font">
  <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center">
    <a class="flex title-font font-medium items-center text-gray-900 dark:text-white mb-4 md:mb-0">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
           stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
           class="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full"
           viewBox="0 0 24 24">
        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
      </svg>
      <span class="ml-3 text-xl">ABJ CRM</span>
    </a>

    <nav class="md:ml-auto flex flex-wrap items-center text-base justify-center">
      <a href="{% url 'leads:lead-list' %}" class="mr-5 hover:text-gray-900 dark:hover:text-white">Leads</a>
      {% if request.user.is_organiser %}
      <a href="{% url 'agents:agent-list' %}" class="mr-5 hover:text-gray-900 dark:hover:text-white">Agents</a>
      {% endif %}
      {% if not request.user.is_authenticated %}
      <a href="{% url 'signup' %}" class="mr-5 hover:text-gray-900 dark:hover:text-white">Sign Up</a>
      {% endif %}
    </nav>

    <!-- ðŸŒ™ Dark Mode Toggle -->
    <button onclick="toggleTheme()" class="ml-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white p-2 rounded">
      Toggle ðŸŒ™
    </button>

    {% if not request.user.is_authenticated %}
    <a href="{% url 'login' %}">
      <button class="ml-4 bg-gray-100 dark:bg-gray-700 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-base mt-4 md:mt-0">
        Login
        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
             stroke-width="2" class="w-4 h-4 ml-1" viewBox="0 0 24 24">
          <path d="M5 12h14M12 5l7 7-7 7"></path>
        </svg>
      </button>
    </a>
    {% else %}
    <span class="ml-4">Logged in as {{ request.user.username }}</span>
    <form action="{% url 'logout' %}" method="POST">
      {% csrf_token %}
      <button type="submit" class="ml-4 bg-gray-100 dark:bg-gray-700 border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-base mt-4 md:mt-0">
        Logout
        <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
             stroke-width="2" class="w-4 h-4 ml-1" viewBox="0 0 24 24">
          <path d="M5 12h14M12 5l7 7-7 7"></path>
        </svg>
      </button>
    </form>
    {% endif %}
  </div>
</header>

<!-- Theme toggle script -->
<script>
  function toggleTheme() {
    const html = document.documentElement;
    if (html.classList.contains('dark')) {
      html.classList.remove('dark');
      localStorage.theme = 'light';
    } else {
      html.classList.add('dark');
      localStorage.theme = 'dark';
    }
  }
</script>
